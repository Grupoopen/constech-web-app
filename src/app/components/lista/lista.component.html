<app-header></app-header>
<!--Card para agregar :D-->
<div class="lista" style="display: grid; grid-template-columns: auto auto ;">

  <div class="part1">
    <mat-card class="custom-card" style="background-color: rgb( 223, 154, 6); width: 350px; align-items: center; margin: 15px;">
      <mat-card-header>
        <mat-card-title class="text-center"><h2>Agregar Proyectos De Software</h2></mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form>
          <div class="form-group">
            <mat-form-field appearance="fill">
              <mat-label>Titulo de la tarea</mat-label>
              <input matInput [(ngModel)]="newTask.title" name="title" placeholder="Titulo de la tarea">
            </mat-form-field>
          </div>
         
            <mat-form-field class="example-full-width">
              <mat-label>Nombre de la Empresa </mat-label>
              <input matInput [(ngModel)]="newTask.name" name="description" placeholder="Nombre de la Empresa ">
            </mat-form-field>
       
          <div class="form-group">
            <mat-form-field appearance="fill">
              <textarea matInput [(ngModel)]="newTask.description" name="description" placeholder="Descripcion de la tarea"></textarea>
            </mat-form-field>
          </div>
          <div class="form-group">
            <mat-form-field appearance="fill">
              <mat-label>Nombre del Cliente</mat-label>
              <input matInput [(ngModel)]="newTask.clientName" name="clientName" placeholder="Nombre del Cliente">
            </mat-form-field>
          </div>
          <div class="form-group">
            <mat-form-field appearance="fill">
              <textarea matInput [(ngModel)]="newTask.clientEmail" name="clientEmail" placeholder="Email del Cliente"></textarea>
            </mat-form-field>
          </div>

       
          
          
       
          <textarea *ngIf="errorMessage" class="error-message">{{ errorMessage }}</textarea>
          <br>
          <button mat-raised-button color="primary" (click)="addTask()">Agregar</button>
        </form>
      </mat-card-content>
    </mat-card>
<!-- Checkbox para obtener todas las tareas -->
<mat-checkbox class="example-margin" [(ngModel)]="filterAll" (change)="onFilterChange()">Todos</mat-checkbox>

<!-- Checkbox para obtener tareas 'En Proceso' -->
<mat-checkbox class="example-margin" [(ngModel)]="filterInProgress" (change)="onFilterChange()">En Proceso</mat-checkbox>

<!-- Checkbox para obtener tareas 'Finalizado' -->
<mat-checkbox class="example-margin" [(ngModel)]="filterCompleted" (change)="onFilterChange()">Finalizado</mat-checkbox>

  </div>



<!-- las Card que se muestran despues  agregar :D-->
  <div class="part2">
    <h2>Lista de Proyectos</h2>
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;  ">
      <!-- Para crear tus cartas -->
      <div *ngFor="let task of tasks">
        <mat-card class="custom-card2" style="width: 300px; ">
          <mat-card-header>
            <mat-card-title>{{ task.title }}  - {{task.id}}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            
            <p> <b>Persona a cargo :</b> {{task.name}}</p>
       
            <p><b>Descripcion del Proyecto :</b> {{ task.description }}</p>
            <p><b>Nombre del Cliente :</b>  {{task.clientName }}</p>
            <p> <b>Correo del Cliente : </b>{{task.clientEmail }}</p>
            <p><b> Estado :</b> {{task.status}}</p>
            <p><b>Fecha de inicio :</b> {{task.startDate}}</p>
            <p><b>Fecha de Finalizacion :</b> {{task.endDate}}</p>
          </mat-card-content>


          <mat-card-actions>
            <button mat-raised-button color="warn" style="margin: 10px;" (click)="openEditForm(task)"> Edit</button>
            <button mat-raised-button color="accent" (click)="deleteTask(task.id)">Delete</button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </div>
</div>
